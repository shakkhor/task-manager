{"ast":null,"code":"import * as signalR from '@microsoft/signalr';\nimport { v4 as uuidv4 } from 'uuid';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/task-api.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../add-edit-task/add-edit-task.component\";\n\nfunction TaskListComponent_i_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"i\");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 19);\n    i0.ɵɵelement(2, \"path\", 20);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction TaskListComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function TaskListComponent_tr_25_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.openEditModal(item_r2);\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(14, \"svg\", 22);\n    i0.ɵɵelement(15, \"path\", 23)(16, \"path\", 24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(17, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TaskListComponent_tr_25_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.setDeleteTaskId(item_r2);\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(18, \"svg\", 26);\n    i0.ɵɵelement(19, \"path\", 27);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r3 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, item_r2.createdDate, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.progress);\n  }\n}\n\nexport class TaskListComponent {\n  constructor(taskService, apiService) {\n    this.taskService = taskService;\n    this.apiService = apiService;\n    this.taskList = [];\n    this.modalTitle = \"dummy title\";\n    this.title = '';\n    this.taskDetail = {\n      id: '',\n      title: '',\n      status: 0,\n      progress: 0,\n      createdDate: new Date()\n    };\n    this.isNewTask = false;\n    this.deleteTaskId = \"\";\n    this.sortBy = \"CreateDate\";\n    this.sortOrder = 0;\n    this.hubConnection = new signalR.HubConnectionBuilder().withUrl('https://localhost:7113/pushNotification').build();\n  }\n\n  ngOnInit() {\n    this.taskList$ = this.taskService.getTaskList(\"\", \"Title\", 0);\n    this.hubConnection.start().then(() => {\n      console.log('connection started');\n    }).catch(err => console.log(err));\n    this.hubConnection.onclose(() => {\n      debugger;\n      setTimeout(() => {\n        console.log('try to re start connection');\n        debugger;\n        this.hubConnection.start().then(() => {\n          debugger;\n          console.log('connection re started');\n        }).catch(err => console.log(err));\n      }, 5000);\n    });\n    this.hubConnection.on('privateMessageMethodName', data => {\n      debugger;\n      console.log('private Message:' + data);\n    });\n    this.hubConnection.on('publicMessageMethodName', data => {\n      this.taskList$ = this.taskService.getTaskList(\"\", \"Title\", 0);\n      console.log('public Message:' + data);\n    });\n    this.hubConnection.on('clientMethodName', data => {\n      debugger;\n      console.log('server message:' + data);\n    });\n    this.hubConnection.on('WelcomeMethodName', data => {\n      debugger;\n      console.log('client Id:' + data);\n      this.hubConnection.invoke('GetDataFromClient', 'abc@abc.com', data).catch(err => console.log(err));\n    });\n  }\n\n  openAddModal() {\n    this.modalTitle = \"Add new task\";\n    this.isNewTask = true;\n    this.taskDetail = {\n      id: uuidv4(),\n      title: '',\n      status: 0,\n      progress: 0,\n      createdDate: new Date()\n    };\n  }\n\n  openEditModal(item) {\n    this.modalTitle = \"Edit task\";\n    this.taskDetail = item;\n    this.isNewTask = false;\n  }\n\n  deleteTask() {\n    this.apiService.deleteTask(this.deleteTaskId).subscribe(_ => {\n      console.log(\"Task Deleted\");\n    });\n  }\n\n  setDeleteTaskId(item) {\n    this.modalTitle = \"Delete task\";\n    this.deleteTaskId = item.id;\n  }\n\n  searchByTitle() {\n    this.taskList$ = this.taskService.getTaskList(this.title, this.sortBy, this.sortOrder);\n    console.table(this.taskList$);\n  }\n\n}\n\nTaskListComponent.ɵfac = function TaskListComponent_Factory(t) {\n  return new (t || TaskListComponent)(i0.ɵɵdirectiveInject(i1.TaskApiService), i0.ɵɵdirectiveInject(i1.TaskApiService));\n};\n\nTaskListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TaskListComponent,\n  selectors: [[\"app-task-list\"]],\n  decls: 50,\n  vars: 9,\n  consts: [[1, \"text-center\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdrop\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\", 3, \"click\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"name\", \"title\", 1, \"form-control\", 3, \"ngModel\", \"blur\", \"ngModelChange\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"staticBackdrop\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"staticBackdropLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [3, \"taskDetail\", \"isNewTask\"], [\"id\", \"staticBackdropDelete\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-arrow-up\"], [\"fill-rule\", \"evenodd\", \"d\", \"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdrop\", 1, \"btn\", \"btn-outline-primary\", \"me-2\", \"mb-1\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-pencil-square\"], [\"d\", \"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"], [\"fill-rule\", \"evenodd\", \"d\", \"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-outline-danger\", \"me-2\", \"mb-1\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-trash3\"], [\"d\", \"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z\"]],\n  template: function TaskListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h3\", 0);\n      i0.ɵɵtext(2, \"Task Manager App\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function TaskListComponent_Template_button_click_3_listener() {\n        return ctx.openAddModal();\n      });\n      i0.ɵɵtext(4, \" Add new task \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"label\", 2);\n      i0.ɵɵtext(6, \"Search by title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 3);\n      i0.ɵɵlistener(\"blur\", function TaskListComponent_Template_input_blur_7_listener() {\n        return ctx.searchByTitle();\n      })(\"ngModelChange\", function TaskListComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.title = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"table\", 4)(9, \"thead\")(10, \"tr\")(11, \"th\", 5);\n      i0.ɵɵtext(12, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 5);\n      i0.ɵɵtext(14, \"Title \");\n      i0.ɵɵtemplate(15, TaskListComponent_i_15_Template, 3, 0, \"i\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 5);\n      i0.ɵɵtext(17, \"CreatedOn\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 5);\n      i0.ɵɵtext(19, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\", 5);\n      i0.ɵɵtext(21, \"Progress\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\", 5);\n      i0.ɵɵtext(23, \"Options\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(24, \"tbody\");\n      i0.ɵɵtemplate(25, TaskListComponent_tr_25_Template, 20, 8, \"tr\", 7);\n      i0.ɵɵpipe(26, \"async\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 8)(28, \"div\", 9)(29, \"div\", 10)(30, \"div\", 11)(31, \"h5\", 12);\n      i0.ɵɵtext(32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(33, \"button\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 14);\n      i0.ɵɵelement(35, \"app-add-edit-task\", 15);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(36, \"div\", 16)(37, \"div\", 9)(38, \"div\", 10)(39, \"div\", 11)(40, \"h5\", 12);\n      i0.ɵɵtext(41);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(42, \"button\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"div\", 14)(44, \"h5\");\n      i0.ɵɵtext(45, \"Are you sure to delete this task?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"button\", 17);\n      i0.ɵɵtext(47, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"button\", 18);\n      i0.ɵɵlistener(\"click\", function TaskListComponent_Template_button_click_48_listener() {\n        return ctx.deleteTask();\n      });\n      i0.ɵɵtext(49, \" Okay \");\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.title);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.titleArrowUp);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(26, 7, ctx.taskList$));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.modalTitle);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"taskDetail\", ctx.taskDetail)(\"isNewTask\", ctx.isNewTask);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.modalTitle);\n    }\n  },\n  directives: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.NgIf, i3.NgForOf, i4.AddEditTaskComponent],\n  pipes: [i3.AsyncPipe, i3.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YXNrLWxpc3QuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["D:/Personal/CholPori/TaskManagement/task-client/src/app/task-list/task-list.component.ts"],"names":["signalR","v4","uuidv4","i0","i1","i2","i3","i4","TaskListComponent_i_15_Template","rf","ctx","ɵɵelementStart","ɵɵnamespaceSVG","ɵɵelement","ɵɵelementEnd","TaskListComponent_tr_25_Template","_r5","ɵɵgetCurrentView","ɵɵtext","ɵɵpipe","ɵɵlistener","TaskListComponent_tr_25_Template_button_click_13_listener","restoredCtx","ɵɵrestoreView","item_r2","$implicit","ctx_r4","ɵɵnextContext","openEditModal","ɵɵnamespaceHTML","TaskListComponent_tr_25_Template_button_click_17_listener","ctx_r6","setDeleteTaskId","i_r3","index","ɵɵadvance","ɵɵtextInterpolate","title","ɵɵpipeBind2","createdDate","status","progress","TaskListComponent","constructor","taskService","apiService","taskList","modalTitle","taskDetail","id","Date","isNewTask","deleteTaskId","sortBy","sortOrder","hubConnection","HubConnectionBuilder","withUrl","build","ngOnInit","taskList$","getTaskList","start","then","console","log","catch","err","onclose","setTimeout","on","data","invoke","openAddModal","item","deleteTask","subscribe","_","searchByTitle","table","ɵfac","TaskListComponent_Factory","t","ɵɵdirectiveInject","TaskApiService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","TaskListComponent_Template","TaskListComponent_Template_button_click_3_listener","TaskListComponent_Template_input_blur_7_listener","TaskListComponent_Template_input_ngModelChange_7_listener","$event","ɵɵtemplate","TaskListComponent_Template_button_click_48_listener","ɵɵproperty","titleArrowUp","ɵɵpipeBind1","directives","DefaultValueAccessor","NgControlStatus","NgModel","NgIf","NgForOf","AddEditTaskComponent","pipes","AsyncPipe","DatePipe","styles"],"mappings":"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","sourcesContent":["import * as signalR from '@microsoft/signalr';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../services/task-api.service\";\r\nimport * as i2 from \"@angular/forms\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"../add-edit-task/add-edit-task.component\";\r\nfunction TaskListComponent_i_15_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"i\");\r\n    i0.ɵɵnamespaceSVG();\r\n    i0.ɵɵelementStart(1, \"svg\", 19);\r\n    i0.ɵɵelement(2, \"path\", 20);\r\n    i0.ɵɵelementEnd()();\r\n} }\r\nfunction TaskListComponent_tr_25_Template(rf, ctx) { if (rf & 1) {\r\n    const _r5 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵpipe(7, \"date\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"td\");\r\n    i0.ɵɵtext(9);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"td\");\r\n    i0.ɵɵtext(11);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 21);\r\n    i0.ɵɵlistener(\"click\", function TaskListComponent_tr_25_Template_button_click_13_listener() { const restoredCtx = i0.ɵɵrestoreView(_r5); const item_r2 = restoredCtx.$implicit; const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.openEditModal(item_r2); });\r\n    i0.ɵɵnamespaceSVG();\r\n    i0.ɵɵelementStart(14, \"svg\", 22);\r\n    i0.ɵɵelement(15, \"path\", 23)(16, \"path\", 24);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵnamespaceHTML();\r\n    i0.ɵɵelementStart(17, \"button\", 25);\r\n    i0.ɵɵlistener(\"click\", function TaskListComponent_tr_25_Template_button_click_17_listener() { const restoredCtx = i0.ɵɵrestoreView(_r5); const item_r2 = restoredCtx.$implicit; const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.setDeleteTaskId(item_r2); });\r\n    i0.ɵɵnamespaceSVG();\r\n    i0.ɵɵelementStart(18, \"svg\", 26);\r\n    i0.ɵɵelement(19, \"path\", 27);\r\n    i0.ɵɵelementEnd()()()();\r\n} if (rf & 2) {\r\n    const item_r2 = ctx.$implicit;\r\n    const i_r3 = ctx.index;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(i_r3 + 1);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r2.title);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, item_r2.createdDate, \"dd/MM/yyyy\"));\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(item_r2.status);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r2.progress);\r\n} }\r\nexport class TaskListComponent {\r\n    constructor(taskService, apiService) {\r\n        this.taskService = taskService;\r\n        this.apiService = apiService;\r\n        this.taskList = [];\r\n        this.modalTitle = \"dummy title\";\r\n        this.title = '';\r\n        this.taskDetail = {\r\n            id: '',\r\n            title: '',\r\n            status: 0,\r\n            progress: 0,\r\n            createdDate: new Date()\r\n        };\r\n        this.isNewTask = false;\r\n        this.deleteTaskId = \"\";\r\n        this.sortBy = \"CreateDate\";\r\n        this.sortOrder = 0;\r\n        this.hubConnection = new signalR.HubConnectionBuilder()\r\n            .withUrl('https://localhost:7113/pushNotification').build();\r\n    }\r\n    ngOnInit() {\r\n        this.taskList$ = this.taskService.getTaskList(\"\", \"Title\", 0);\r\n        this.hubConnection.start().then(() => {\r\n            console.log('connection started');\r\n        }).catch(err => console.log(err));\r\n        this.hubConnection.onclose(() => {\r\n            debugger;\r\n            setTimeout(() => {\r\n                console.log('try to re start connection');\r\n                debugger;\r\n                this.hubConnection.start().then(() => {\r\n                    debugger;\r\n                    console.log('connection re started');\r\n                }).catch(err => console.log(err));\r\n            }, 5000);\r\n        });\r\n        this.hubConnection.on('privateMessageMethodName', (data) => {\r\n            debugger;\r\n            console.log('private Message:' + data);\r\n        });\r\n        this.hubConnection.on('publicMessageMethodName', (data) => {\r\n            this.taskList$ = this.taskService.getTaskList(\"\", \"Title\", 0);\r\n            console.log('public Message:' + data);\r\n        });\r\n        this.hubConnection.on('clientMethodName', (data) => {\r\n            debugger;\r\n            console.log('server message:' + data);\r\n        });\r\n        this.hubConnection.on('WelcomeMethodName', (data) => {\r\n            debugger;\r\n            console.log('client Id:' + data);\r\n            this.hubConnection.invoke('GetDataFromClient', 'abc@abc.com', data).catch(err => console.log(err));\r\n        });\r\n    }\r\n    openAddModal() {\r\n        this.modalTitle = \"Add new task\";\r\n        this.isNewTask = true;\r\n        this.taskDetail = {\r\n            id: uuidv4(),\r\n            title: '',\r\n            status: 0,\r\n            progress: 0,\r\n            createdDate: new Date()\r\n        };\r\n    }\r\n    openEditModal(item) {\r\n        this.modalTitle = \"Edit task\";\r\n        this.taskDetail = item;\r\n        this.isNewTask = false;\r\n    }\r\n    deleteTask() {\r\n        this.apiService.deleteTask(this.deleteTaskId).subscribe(_ => { console.log(\"Task Deleted\"); });\r\n    }\r\n    setDeleteTaskId(item) {\r\n        this.modalTitle = \"Delete task\";\r\n        this.deleteTaskId = item.id;\r\n    }\r\n    searchByTitle() {\r\n        this.taskList$ = this.taskService.getTaskList(this.title, this.sortBy, this.sortOrder);\r\n        console.table(this.taskList$);\r\n    }\r\n}\r\nTaskListComponent.ɵfac = function TaskListComponent_Factory(t) { return new (t || TaskListComponent)(i0.ɵɵdirectiveInject(i1.TaskApiService), i0.ɵɵdirectiveInject(i1.TaskApiService)); };\r\nTaskListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TaskListComponent, selectors: [[\"app-task-list\"]], decls: 50, vars: 9, consts: [[1, \"text-center\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdrop\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\", 3, \"click\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"name\", \"title\", 1, \"form-control\", 3, \"ngModel\", \"blur\", \"ngModelChange\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"staticBackdrop\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"staticBackdropLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [3, \"taskDetail\", \"isNewTask\"], [\"id\", \"staticBackdropDelete\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-arrow-up\"], [\"fill-rule\", \"evenodd\", \"d\", \"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdrop\", 1, \"btn\", \"btn-outline-primary\", \"me-2\", \"mb-1\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-pencil-square\"], [\"d\", \"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"], [\"fill-rule\", \"evenodd\", \"d\", \"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-outline-danger\", \"me-2\", \"mb-1\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-trash3\"], [\"d\", \"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z\"]], template: function TaskListComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\")(1, \"h3\", 0);\r\n        i0.ɵɵtext(2, \"Task Manager App\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"button\", 1);\r\n        i0.ɵɵlistener(\"click\", function TaskListComponent_Template_button_click_3_listener() { return ctx.openAddModal(); });\r\n        i0.ɵɵtext(4, \" Add new task \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"label\", 2);\r\n        i0.ɵɵtext(6, \"Search by title\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"input\", 3);\r\n        i0.ɵɵlistener(\"blur\", function TaskListComponent_Template_input_blur_7_listener() { return ctx.searchByTitle(); })(\"ngModelChange\", function TaskListComponent_Template_input_ngModelChange_7_listener($event) { return ctx.title = $event; });\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(8, \"table\", 4)(9, \"thead\")(10, \"tr\")(11, \"th\", 5);\r\n        i0.ɵɵtext(12, \"#\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"th\", 5);\r\n        i0.ɵɵtext(14, \"Title \");\r\n        i0.ɵɵtemplate(15, TaskListComponent_i_15_Template, 3, 0, \"i\", 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"th\", 5);\r\n        i0.ɵɵtext(17, \"CreatedOn\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"th\", 5);\r\n        i0.ɵɵtext(19, \"Status\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(20, \"th\", 5);\r\n        i0.ɵɵtext(21, \"Progress\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"th\", 5);\r\n        i0.ɵɵtext(23, \"Options\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵelementStart(24, \"tbody\");\r\n        i0.ɵɵtemplate(25, TaskListComponent_tr_25_Template, 20, 8, \"tr\", 7);\r\n        i0.ɵɵpipe(26, \"async\");\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(27, \"div\", 8)(28, \"div\", 9)(29, \"div\", 10)(30, \"div\", 11)(31, \"h5\", 12);\r\n        i0.ɵɵtext(32);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(33, \"button\", 13);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(34, \"div\", 14);\r\n        i0.ɵɵelement(35, \"app-add-edit-task\", 15);\r\n        i0.ɵɵelementEnd()()()();\r\n        i0.ɵɵelementStart(36, \"div\", 16)(37, \"div\", 9)(38, \"div\", 10)(39, \"div\", 11)(40, \"h5\", 12);\r\n        i0.ɵɵtext(41);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(42, \"button\", 13);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(43, \"div\", 14)(44, \"h5\");\r\n        i0.ɵɵtext(45, \"Are you sure to delete this task?\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(46, \"button\", 17);\r\n        i0.ɵɵtext(47, \" Cancel \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(48, \"button\", 18);\r\n        i0.ɵɵlistener(\"click\", function TaskListComponent_Template_button_click_48_listener() { return ctx.deleteTask(); });\r\n        i0.ɵɵtext(49, \" Okay \");\r\n        i0.ɵɵelementEnd()()()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.title);\r\n        i0.ɵɵadvance(8);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.titleArrowUp);\r\n        i0.ɵɵadvance(10);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(26, 7, ctx.taskList$));\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵtextInterpolate(ctx.modalTitle);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"taskDetail\", ctx.taskDetail)(\"isNewTask\", ctx.isNewTask);\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵtextInterpolate(ctx.modalTitle);\r\n    } }, directives: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.NgIf, i3.NgForOf, i4.AddEditTaskComponent], pipes: [i3.AsyncPipe, i3.DatePipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YXNrLWxpc3QuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}