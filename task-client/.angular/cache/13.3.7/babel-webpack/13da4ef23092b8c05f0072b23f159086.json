{"ast":null,"code":"import * as signalR from '@microsoft/signalr';\nimport { v4 as uuidv4 } from 'uuid';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/task-api.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../add-edit-task/add-edit-task.component\";\n\nfunction TaskListComponent_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function TaskListComponent_tr_27_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.openEditModal(item_r1);\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(14, \"svg\", 22);\n    i0.ɵɵelement(15, \"path\", 23)(16, \"path\", 24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(17, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TaskListComponent_tr_27_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.setDeleteTaskId(item_r1);\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(18, \"svg\", 26);\n    i0.ɵɵelement(19, \"path\", 27);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r2 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, item_r1.createdDate, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.progress);\n  }\n}\n\nexport class TaskListComponent {\n  constructor(taskService, apiService) {\n    this.taskService = taskService;\n    this.apiService = apiService;\n    this.taskList = [];\n    this.modalTitle = \"dummy title\";\n    this.title = '';\n    this.taskDetail = {\n      id: '',\n      title: '',\n      status: 0,\n      progress: 0,\n      createdDate: new Date()\n    };\n    this.isNewTask = false;\n    this.deleteTaskId = \"\";\n    this.sortBy = \"CreateDate\";\n    this.sortOrder = 0;\n    this.hubConnection = new signalR.HubConnectionBuilder().withUrl('https://localhost:7113/pushNotification').build();\n  }\n\n  ngOnInit() {\n    this.taskList$ = this.taskService.getTaskList(\"\", \"Title\", 0);\n    this.hubConnection.start().then(() => {\n      console.log('connection started');\n    }).catch(err => console.log(err));\n    this.hubConnection.onclose(() => {\n      debugger;\n      setTimeout(() => {\n        console.log('try to re start connection');\n        debugger;\n        this.hubConnection.start().then(() => {\n          debugger;\n          console.log('connection re started');\n        }).catch(err => console.log(err));\n      }, 5000);\n    });\n    this.hubConnection.on('privateMessageMethodName', data => {\n      debugger;\n      console.log('private Message:' + data);\n    });\n    this.hubConnection.on('publicMessageMethodName', data => {\n      this.taskList$ = this.taskService.getTaskList(\"\", \"Title\", 0);\n      console.log('public Message:' + data);\n    });\n    this.hubConnection.on('clientMethodName', data => {\n      debugger;\n      console.log('server message:' + data);\n    });\n    this.hubConnection.on('WelcomeMethodName', data => {\n      debugger;\n      console.log('client Id:' + data);\n      this.hubConnection.invoke('GetDataFromClient', 'abc@abc.com', data).catch(err => console.log(err));\n    });\n  }\n\n  openAddModal() {\n    this.modalTitle = \"Add new task\";\n    this.isNewTask = true;\n    this.taskDetail = {\n      id: uuidv4(),\n      title: '',\n      status: 0,\n      progress: 0,\n      createdDate: new Date()\n    };\n  }\n\n  openEditModal(item) {\n    this.modalTitle = \"Edit task\";\n    this.taskDetail = item;\n    this.isNewTask = false;\n  }\n\n  deleteTask() {\n    this.apiService.deleteTask(this.deleteTaskId).subscribe(_ => {\n      console.log(\"Task Deleted\");\n    });\n  }\n\n  setDeleteTaskId(item) {\n    this.modalTitle = \"Delete task\";\n    this.deleteTaskId = item.id;\n  }\n\n  searchByTitle() {\n    this.taskList$ = this.taskService.getTaskList(this.title, this.sortBy, this.sortOrder);\n    console.table(this.taskList$);\n  }\n\n}\n\nTaskListComponent.ɵfac = function TaskListComponent_Factory(t) {\n  return new (t || TaskListComponent)(i0.ɵɵdirectiveInject(i1.TaskApiService), i0.ɵɵdirectiveInject(i1.TaskApiService));\n};\n\nTaskListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TaskListComponent,\n  selectors: [[\"app-task-list\"]],\n  decls: 52,\n  vars: 8,\n  consts: [[1, \"text-center\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdrop\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\", 3, \"click\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"name\", \"title\", 1, \"form-control\", 3, \"ngModel\", \"blur\", \"ngModelChange\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [\"c\", \"\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-arrow-up\"], [\"fill-rule\", \"evenodd\", \"d\", \"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"staticBackdrop\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"staticBackdropLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [3, \"taskDetail\", \"isNewTask\"], [\"id\", \"staticBackdropDelete\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\", 3, \"click\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdrop\", 1, \"btn\", \"btn-outline-primary\", \"me-2\", \"mb-1\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-pencil-square\"], [\"d\", \"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"], [\"fill-rule\", \"evenodd\", \"d\", \"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-outline-danger\", \"me-2\", \"mb-1\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-trash3\"], [\"d\", \"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z\"]],\n  template: function TaskListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h3\", 0);\n      i0.ɵɵtext(2, \"Task Manager App\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function TaskListComponent_Template_button_click_3_listener() {\n        return ctx.openAddModal();\n      });\n      i0.ɵɵtext(4, \" Add new task \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"label\", 2);\n      i0.ɵɵtext(6, \"Search by title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 3);\n      i0.ɵɵlistener(\"blur\", function TaskListComponent_Template_input_blur_7_listener() {\n        return ctx.searchByTitle();\n      })(\"ngModelChange\", function TaskListComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.title = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"table\", 4)(9, \"thead\")(10, \"tr\")(11, \"th\", 5);\n      i0.ɵɵtext(12, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 5);\n      i0.ɵɵtext(14, \"Title \");\n      i0.ɵɵelementStart(15, \"i\", 6);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(16, \"svg\", 7);\n      i0.ɵɵelement(17, \"path\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(18, \"th\", 5);\n      i0.ɵɵtext(19, \"CreatedOn\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\", 5);\n      i0.ɵɵtext(21, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\", 5);\n      i0.ɵɵtext(23, \"Progress\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\", 5);\n      i0.ɵɵtext(25, \"Options\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(26, \"tbody\");\n      i0.ɵɵtemplate(27, TaskListComponent_tr_27_Template, 20, 8, \"tr\", 9);\n      i0.ɵɵpipe(28, \"async\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"div\", 10)(30, \"div\", 11)(31, \"div\", 12)(32, \"div\", 13)(33, \"h5\", 14);\n      i0.ɵɵtext(34);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(35, \"button\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 16);\n      i0.ɵɵelement(37, \"app-add-edit-task\", 17);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(38, \"div\", 18)(39, \"div\", 11)(40, \"div\", 12)(41, \"div\", 13)(42, \"h5\", 14);\n      i0.ɵɵtext(43);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(44, \"button\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"div\", 16)(46, \"h5\");\n      i0.ɵɵtext(47, \"Are you sure to delete this task?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"button\", 19);\n      i0.ɵɵtext(49, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function TaskListComponent_Template_button_click_50_listener() {\n        return ctx.deleteTask();\n      });\n      i0.ɵɵtext(51, \" Okay \");\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.title);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(28, 6, ctx.taskList$));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.modalTitle);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"taskDetail\", ctx.taskDetail)(\"isNewTask\", ctx.isNewTask);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.modalTitle);\n    }\n  },\n  directives: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.NgForOf, i4.AddEditTaskComponent],\n  pipes: [i3.AsyncPipe, i3.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YXNrLWxpc3QuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["D:/Personal/CholPori/TaskManagement/task-client/src/app/task-list/task-list.component.ts"],"names":["signalR","v4","uuidv4","i0","i1","i2","i3","i4","TaskListComponent_tr_27_Template","rf","ctx","_r4","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵpipe","ɵɵlistener","TaskListComponent_tr_27_Template_button_click_13_listener","restoredCtx","ɵɵrestoreView","item_r1","$implicit","ctx_r3","ɵɵnextContext","openEditModal","ɵɵnamespaceSVG","ɵɵelement","ɵɵnamespaceHTML","TaskListComponent_tr_27_Template_button_click_17_listener","ctx_r5","setDeleteTaskId","i_r2","index","ɵɵadvance","ɵɵtextInterpolate","title","ɵɵpipeBind2","createdDate","status","progress","TaskListComponent","constructor","taskService","apiService","taskList","modalTitle","taskDetail","id","Date","isNewTask","deleteTaskId","sortBy","sortOrder","hubConnection","HubConnectionBuilder","withUrl","build","ngOnInit","taskList$","getTaskList","start","then","console","log","catch","err","onclose","setTimeout","on","data","invoke","openAddModal","item","deleteTask","subscribe","_","searchByTitle","table","ɵfac","TaskListComponent_Factory","t","ɵɵdirectiveInject","TaskApiService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","TaskListComponent_Template","TaskListComponent_Template_button_click_3_listener","TaskListComponent_Template_input_blur_7_listener","TaskListComponent_Template_input_ngModelChange_7_listener","$event","ɵɵtemplate","TaskListComponent_Template_button_click_50_listener","ɵɵproperty","ɵɵpipeBind1","directives","DefaultValueAccessor","NgControlStatus","NgModel","NgForOf","AddEditTaskComponent","pipes","AsyncPipe","DatePipe","styles"],"mappings":"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","sourcesContent":["import * as signalR from '@microsoft/signalr';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../services/task-api.service\";\r\nimport * as i2 from \"@angular/forms\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"../add-edit-task/add-edit-task.component\";\r\nfunction TaskListComponent_tr_27_Template(rf, ctx) { if (rf & 1) {\r\n    const _r4 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵpipe(7, \"date\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"td\");\r\n    i0.ɵɵtext(9);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"td\");\r\n    i0.ɵɵtext(11);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 21);\r\n    i0.ɵɵlistener(\"click\", function TaskListComponent_tr_27_Template_button_click_13_listener() { const restoredCtx = i0.ɵɵrestoreView(_r4); const item_r1 = restoredCtx.$implicit; const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.openEditModal(item_r1); });\r\n    i0.ɵɵnamespaceSVG();\r\n    i0.ɵɵelementStart(14, \"svg\", 22);\r\n    i0.ɵɵelement(15, \"path\", 23)(16, \"path\", 24);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵnamespaceHTML();\r\n    i0.ɵɵelementStart(17, \"button\", 25);\r\n    i0.ɵɵlistener(\"click\", function TaskListComponent_tr_27_Template_button_click_17_listener() { const restoredCtx = i0.ɵɵrestoreView(_r4); const item_r1 = restoredCtx.$implicit; const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.setDeleteTaskId(item_r1); });\r\n    i0.ɵɵnamespaceSVG();\r\n    i0.ɵɵelementStart(18, \"svg\", 26);\r\n    i0.ɵɵelement(19, \"path\", 27);\r\n    i0.ɵɵelementEnd()()()();\r\n} if (rf & 2) {\r\n    const item_r1 = ctx.$implicit;\r\n    const i_r2 = ctx.index;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(i_r2 + 1);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r1.title);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, item_r1.createdDate, \"dd/MM/yyyy\"));\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(item_r1.status);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r1.progress);\r\n} }\r\nexport class TaskListComponent {\r\n    constructor(taskService, apiService) {\r\n        this.taskService = taskService;\r\n        this.apiService = apiService;\r\n        this.taskList = [];\r\n        this.modalTitle = \"dummy title\";\r\n        this.title = '';\r\n        this.taskDetail = {\r\n            id: '',\r\n            title: '',\r\n            status: 0,\r\n            progress: 0,\r\n            createdDate: new Date()\r\n        };\r\n        this.isNewTask = false;\r\n        this.deleteTaskId = \"\";\r\n        this.sortBy = \"CreateDate\";\r\n        this.sortOrder = 0;\r\n        this.hubConnection = new signalR.HubConnectionBuilder()\r\n            .withUrl('https://localhost:7113/pushNotification').build();\r\n    }\r\n    ngOnInit() {\r\n        this.taskList$ = this.taskService.getTaskList(\"\", \"Title\", 0);\r\n        this.hubConnection.start().then(() => {\r\n            console.log('connection started');\r\n        }).catch(err => console.log(err));\r\n        this.hubConnection.onclose(() => {\r\n            debugger;\r\n            setTimeout(() => {\r\n                console.log('try to re start connection');\r\n                debugger;\r\n                this.hubConnection.start().then(() => {\r\n                    debugger;\r\n                    console.log('connection re started');\r\n                }).catch(err => console.log(err));\r\n            }, 5000);\r\n        });\r\n        this.hubConnection.on('privateMessageMethodName', (data) => {\r\n            debugger;\r\n            console.log('private Message:' + data);\r\n        });\r\n        this.hubConnection.on('publicMessageMethodName', (data) => {\r\n            this.taskList$ = this.taskService.getTaskList(\"\", \"Title\", 0);\r\n            console.log('public Message:' + data);\r\n        });\r\n        this.hubConnection.on('clientMethodName', (data) => {\r\n            debugger;\r\n            console.log('server message:' + data);\r\n        });\r\n        this.hubConnection.on('WelcomeMethodName', (data) => {\r\n            debugger;\r\n            console.log('client Id:' + data);\r\n            this.hubConnection.invoke('GetDataFromClient', 'abc@abc.com', data).catch(err => console.log(err));\r\n        });\r\n    }\r\n    openAddModal() {\r\n        this.modalTitle = \"Add new task\";\r\n        this.isNewTask = true;\r\n        this.taskDetail = {\r\n            id: uuidv4(),\r\n            title: '',\r\n            status: 0,\r\n            progress: 0,\r\n            createdDate: new Date()\r\n        };\r\n    }\r\n    openEditModal(item) {\r\n        this.modalTitle = \"Edit task\";\r\n        this.taskDetail = item;\r\n        this.isNewTask = false;\r\n    }\r\n    deleteTask() {\r\n        this.apiService.deleteTask(this.deleteTaskId).subscribe(_ => { console.log(\"Task Deleted\"); });\r\n    }\r\n    setDeleteTaskId(item) {\r\n        this.modalTitle = \"Delete task\";\r\n        this.deleteTaskId = item.id;\r\n    }\r\n    searchByTitle() {\r\n        this.taskList$ = this.taskService.getTaskList(this.title, this.sortBy, this.sortOrder);\r\n        console.table(this.taskList$);\r\n    }\r\n}\r\nTaskListComponent.ɵfac = function TaskListComponent_Factory(t) { return new (t || TaskListComponent)(i0.ɵɵdirectiveInject(i1.TaskApiService), i0.ɵɵdirectiveInject(i1.TaskApiService)); };\r\nTaskListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TaskListComponent, selectors: [[\"app-task-list\"]], decls: 52, vars: 8, consts: [[1, \"text-center\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdrop\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\", 3, \"click\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"name\", \"title\", 1, \"form-control\", 3, \"ngModel\", \"blur\", \"ngModelChange\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [\"c\", \"\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-arrow-up\"], [\"fill-rule\", \"evenodd\", \"d\", \"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"staticBackdrop\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"staticBackdropLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [3, \"taskDetail\", \"isNewTask\"], [\"id\", \"staticBackdropDelete\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-primary\", \"float-end\", \"m-2\", 3, \"click\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdrop\", 1, \"btn\", \"btn-outline-primary\", \"me-2\", \"mb-1\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-pencil-square\"], [\"d\", \"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"], [\"fill-rule\", \"evenodd\", \"d\", \"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdropDelete\", 1, \"btn\", \"btn-outline-danger\", \"me-2\", \"mb-1\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-trash3\"], [\"d\", \"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z\"]], template: function TaskListComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\")(1, \"h3\", 0);\r\n        i0.ɵɵtext(2, \"Task Manager App\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"button\", 1);\r\n        i0.ɵɵlistener(\"click\", function TaskListComponent_Template_button_click_3_listener() { return ctx.openAddModal(); });\r\n        i0.ɵɵtext(4, \" Add new task \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"label\", 2);\r\n        i0.ɵɵtext(6, \"Search by title\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"input\", 3);\r\n        i0.ɵɵlistener(\"blur\", function TaskListComponent_Template_input_blur_7_listener() { return ctx.searchByTitle(); })(\"ngModelChange\", function TaskListComponent_Template_input_ngModelChange_7_listener($event) { return ctx.title = $event; });\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(8, \"table\", 4)(9, \"thead\")(10, \"tr\")(11, \"th\", 5);\r\n        i0.ɵɵtext(12, \"#\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"th\", 5);\r\n        i0.ɵɵtext(14, \"Title \");\r\n        i0.ɵɵelementStart(15, \"i\", 6);\r\n        i0.ɵɵnamespaceSVG();\r\n        i0.ɵɵelementStart(16, \"svg\", 7);\r\n        i0.ɵɵelement(17, \"path\", 8);\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵnamespaceHTML();\r\n        i0.ɵɵelementStart(18, \"th\", 5);\r\n        i0.ɵɵtext(19, \"CreatedOn\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(20, \"th\", 5);\r\n        i0.ɵɵtext(21, \"Status\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"th\", 5);\r\n        i0.ɵɵtext(23, \"Progress\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(24, \"th\", 5);\r\n        i0.ɵɵtext(25, \"Options\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵelementStart(26, \"tbody\");\r\n        i0.ɵɵtemplate(27, TaskListComponent_tr_27_Template, 20, 8, \"tr\", 9);\r\n        i0.ɵɵpipe(28, \"async\");\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(29, \"div\", 10)(30, \"div\", 11)(31, \"div\", 12)(32, \"div\", 13)(33, \"h5\", 14);\r\n        i0.ɵɵtext(34);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(35, \"button\", 15);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(36, \"div\", 16);\r\n        i0.ɵɵelement(37, \"app-add-edit-task\", 17);\r\n        i0.ɵɵelementEnd()()()();\r\n        i0.ɵɵelementStart(38, \"div\", 18)(39, \"div\", 11)(40, \"div\", 12)(41, \"div\", 13)(42, \"h5\", 14);\r\n        i0.ɵɵtext(43);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(44, \"button\", 15);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(45, \"div\", 16)(46, \"h5\");\r\n        i0.ɵɵtext(47, \"Are you sure to delete this task?\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(48, \"button\", 19);\r\n        i0.ɵɵtext(49, \" Cancel \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(50, \"button\", 20);\r\n        i0.ɵɵlistener(\"click\", function TaskListComponent_Template_button_click_50_listener() { return ctx.deleteTask(); });\r\n        i0.ɵɵtext(51, \" Okay \");\r\n        i0.ɵɵelementEnd()()()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.title);\r\n        i0.ɵɵadvance(20);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(28, 6, ctx.taskList$));\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵtextInterpolate(ctx.modalTitle);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"taskDetail\", ctx.taskDetail)(\"isNewTask\", ctx.isNewTask);\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵtextInterpolate(ctx.modalTitle);\r\n    } }, directives: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.NgForOf, i4.AddEditTaskComponent], pipes: [i3.AsyncPipe, i3.DatePipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YXNrLWxpc3QuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}